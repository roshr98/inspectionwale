<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Welcome — InspectionWale</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style> body{font-family:Inter,system-ui,Arial;background:#f8fafc} .card{border-radius:12px} .logout-btn{background:#ef4444;color:#fff} </style>
</head>
<body>
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="card p-4 text-center">
          <h2 id="greeting">Welcome</h2>
          <p id="sub" class="text-muted">You are signed in to InspectionWale.</p>
          <div id="userDetails" class="mb-3"></div>
          <div class="d-flex justify-content-center gap-2">
            <a id="goHome" class="btn btn-outline-primary">Home</a>
            <button id="logout" class="btn logout-btn">Logout</button>
          </div>
        </div>
      </div>
    </div>
  </div>

<script>
(function(){
  function getUser(){ const r = localStorage.getItem('iw_user'); return r ? JSON.parse(r) : null; }
  const user = getUser();
  if(!user){ window.location.href = 'index.html'; return; }
  document.getElementById('greeting').innerText = 'Welcome, ' + (user.name || user.email || 'User') + '!';
  document.getElementById('userDetails').innerHTML = `<div><strong>Email:</strong> ${user.email || '—'}</div><div><strong>Mobile:</strong> ${user.mobile || '—'}</div>`;
  document.getElementById('logout').addEventListener('click', ()=> { localStorage.removeItem('iw_user'); localStorage.removeItem('iw_logged_in'); localStorage.removeItem('iw_current_user'); window.location.href='index.html'; });
  document.getElementById('goHome').addEventListener('click', ()=> window.location.href='index.html');
})();
</script>
</body>
</html>
